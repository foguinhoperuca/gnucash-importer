dist: xenial

language: python

python:
  - "3.6"

services:
  - docker

before_install:
  # - docker pull foguinhoperuca/gnucash_magical_import
  - docker build -t foguinhoperuca/gnucash_magical_import .
  - docker ps -a
  - docker run foguinhoperuca/gnucash_magical_import /bin/sh -c "cd /app;"

script:
  - docker run -it foguinhoperuca/gnucash_magical_importer cd /app; make unittest

after_script:
  - docker images
  - docker ps -a
